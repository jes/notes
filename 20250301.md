# 2025-03-01

## FreeCAD

"tritao" has done some work to run document recomputes in a worker thread.

The plan is to merge this with my abort dialog and progress indicator.

Working from https://github.com/tritao/FreeCAD/commits/async-document-recompute I think.

I'm basically going to cherry-pick commits from https://github.com/FreeCAD/FreeCAD/pull/19796 into my staging area and then make them work with the async recompute stuff.

So tritao's code runs a worker thread that receives `RecomputeRequest` objects and
then recomputes them. From the point that receives the `RecomputeRequest`, how can
I launch my dialog on the main thread? Not sure I can.

Maybe I make `MainGui` install a task runner that invokes the task on the main thread?

Yep, seems to work.

https://github.com/jes/FreeCAD/commits/async-document-recompute/

So to remove the necessity to run the task with a modal on the main thread, we would
want to add some sort of progress bar and cancel button on the main UI, and send progress
updates to that.

OK, well I have it working by using the `SequencerBar` that already exists in the main
UI, but for some reason I am not smart enough to put a cancel button next to it.

## Clock

I'm going to finally get around to making new 12mm bearing blocks that stick "inwards"
a little bit so that my short shaft can be supported and I can try to make the clock
run again.

https://img.incoherency.co.uk/5997

And can print 2 of these tomorrow.
