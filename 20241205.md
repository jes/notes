# 2024-12-05

## Raspberry Pi case

I'll try and get the case designed. It wants:

 * hold the Pi
 * hold the panel mount connectors
 * access the ports
 * allow airflow
 * mounting holes

https://www.thingiverse.com/thing:3747610

This is a "dummy" model to use for making a case, very handy.

One very annoying thing in FreeCAD is if you accidentally typo the number of
occurrences in a LinearPattern and have to wait for it to spend minutes calculating
an object you don't want.

https://img.incoherency.co.uk/5845

I wanted 15 copies of this vent slot, not 115. And I can't remember when I last saved,
so it's not safe to "Force Quit" and reload it in case I lose more time than I would have
spent waiting for this stupid calculation to finish.

It's taking ages, I think I'm going to have to kill it, it's basically maxed out my RAM.
Very annoying.

The FreeCAD snap can't access `/usr/share/fonts` for some stupid reason, so to get fonts
I have to copy them into my home directory.

https://img.incoherency.co.uk/5846

Let's give this a go.

The Pi will be held inside with M3 screws. I was planning to put a bottom cover on,
but come to think of it I don't think it's necessary, it can just be covered on the other
side by whatever surface it is attached to.

Bambu Studio wants to print it like this: https://img.incoherency.co.uk/5847

I'll give it a go, it might surprise me. My choice would have been to print it
with the mounting holes flat against the bed and the inside filled with support material.
I don't mind if the inside surface is messy because it is hidden.

It is a 3-hour print my way and a 2-hour print Bambu's way, so the Bambu
way is preferable if it works.

The writing is kind of bad, I would make the writing less prominent, maybe put it on the side,
if I did it again. But this is firmly adequate.

FML, this is not going well. Getting the Pi into the case is an extremely tight fit, because
I made the connectors sit "into" the walls of the case, which makes it hard to get them in.

And then my little peice of stripboard interferes with one of the standoffs, so I trimmed
the stripboard down.

And then another standoff interferes with the plastic base of the GPIO header, so I trimmed
the standoff.

I finally got it in where I'm happy, only to discover that M3 screws don't fit through the holes
in the Pi PCB! And the stupid thing is I now remember having made exactly the same mistake
once before. Sigh. Why don't I learn?

I think just force the screw through the hole, it's super close. And if I can't do that, then
try to drill out the hole.

https://img.incoherency.co.uk/5855

https://img.incoherency.co.uk/5856

Beautiful.

OK, a few more blunders in this...

The connectors are too close together to conveniently do up the screw threads. It is OK,
just slightly inconvenient.

And the right-angle headers end up with the cable pointing "down" instead of "up", which
means when I mount it on the clock, either the cables are going to loop down before going up
to the actual sensors, or the writing is going to be upside down.

I could take it apart and re-fit the connectors upside down but I don't fancy it.

With power, 2 sensors, and quadrature encoder connections:

https://img.incoherency.co.uk/5858

And tested in the web UI, all still working. Good.

## Weight pulley

I'll design a simple weight pulley and try it out.

I think I just want a pulley to guide the string, with a hole in the middle to
take a bearing (or even not - to test my theory about the friction not mattering),
and a hook dangling underneath it to hang the weight on.

https://img.incoherency.co.uk/5848

Let's try this. It springs apart to close over the bearing, and then bolts
together through the bearing.

And I'll screw a hook into the remontoire frame to support the fixed end of the string, or
something.

## Remontoire fly

This can just be a part that is a friction-fit over the remontoire-catching arm.

We want the bulk of the moment of inertia to be in the part that is able to continue
spinning once the arm is caught, so maybe I'll put some bolts in it or something. It wants
to be balanced so that it doesn't prevent the remontoire from winding. (Which, incidentally,
the existing remontoire-catching arm is not).

For ease of fitting, I think make 2 identical halves that bolt together around the
existing part. And there is some springy part that provides the friction fit.

The diameter of the catching-arm part is 15mm. On top of that we have to go less than 30mm
further else we hit the shaft collar.

The fly needs to clear the catching arm by a few mm, but can otherwise be up to 15mm wide.

https://img.incoherency.co.uk/5849

These will bolt together with 2x M3 screws, and take an M4 screw for a weight.

## Coefficients of friction

How are we going to measure these?

I'm imagining some test setup made of any material, and then you just attach "shoes" made of
the individual materials, to the places that rub together, and then measure how much force you
can apply through the friction interface?

One material is fixed to the floor, one is placed on top, loaded up with a weight, and then
you pull horizontally and see how much force it takes to move it?

ChatGPT pointed me at https://en.wikipedia.org/wiki/Tribometer

A "pin on disc" tribometer has one surface be a spinning disc and one surface be a pin resting
on the disc. The pin is loaded with some weight, and some arm measures how hard the
pin is being pushed around by the disc, and then you leave the disc spinning and plot
how the friction varies over time as the surfaces wear:

https://img.incoherency.co.uk/5850

Quite interesting, maybe I am fine with something simpler though.

Something like this:

https://img.incoherency.co.uk/5852

So you put a test sample in the little cup, and you put another test sample on top of it,
with some string attached to it (maybe we have another cup which goes upside down and holds
the string?). If the test samples are square then we have the option to load one or other
perpendicular to also test the perpendicular friction without making any more samples.

And then you let the weights on the pivot sit on the top sample, and then you load
weights the other side of the pulley until the test sample slips out, and then the coefficient
of friction is the ratio of the weights.

The pivot is maybe not necessary, it just stops the weights falling over.

We could put a "stop" before the pulley so that the string only has enough freedom to pull
the sample out from under the weights, and not enough to let everything fall on to the floor.

I think the pivot is actually harmful, the weights need to move with the test
sample, otherwise you also have the friction between the test sample and the pivoting
arm.

## TODO

 * more gearing stages
 * design the frame
 * store all datalogging persistently, and allow viewing static data from some specified time window
 * put sensors in housings
 * 3d-printed coefficients of friction study
 * low-friction pivots study
 * put the fly on the remontoire
 * put the pulley on the falling weight
 * longer string, longer winding drum
