# 2025-11-15

## Orrery

On further consideration, I think this mechanical design may actually be OK - but the elliptic plane tilt will need to move throughout
each day, not just one cycle per year.

We have 3 degrees of freedom: earth rotation around axis, earth/moon orbit around sun, moon orbit around earth. So it ought to be possible
with only 3 motors. Obviously it can be done with 4 motors if you make 2x altazimuth mounts, and somehow ensure that they don't interfere.

To check whether the design I have in FreeCAD will work I am going to get Cursor to program a JavaScript simulation controlling the same
axes and see if it looks right.

I went to make a project directory called "orrery", but realised I already have one! I made a basic 2d JavaScript orrery before.

This uses the VSOP87C data - maybe that is a clue! Maybe I just need to sweep through the next 100 years, grab out the coordinates
from the VSOP87C data, and then see if I can solve the inverse kinematics or whatever to work out where to position my 3 motors.
And then that is also the same method I can use for the real orrery, as long as it all fits on a Arduino Nano ESP32. Probably I can
process the VSOP87C data down to something smaller.

OK, this VSOP87C data doesn't include the moon position, so not spectacularly useful. We already know the earth position based on time
of year so VSOP87C adds nothing of value.

OK, I have a 3D geocentric JavaScript orrery, now I'm going to export altazimuth directions for a year's worth of positions,
 and then process separately to see if my mechanical design will work.

Oh, I think it might not work - the ecliptic axis is always 23.4 deg. away from earth's axis, but it needs to spin all the way around,
not just tilt back and forth.

So if we have a stepper motor fixed to the earth that rotates the plane of the ecliptic, and then we have a stepper motor for each
of the sun and the moon, moving them in the plane of the ecliptic? Probably need slip rings to communicate with the inner stepper motors.

We might get away with just 1 stepper motor, and gearing the sun/moon to each other, apparently a 254:19 ratio is quite close and the
error over the next 100 years will be less than 12 degrees.

This is apparently the ratio used in the Antikythera mechanism. https://antikytheramechanism.com/anatomy.html

So let's maybe go with that, it simplifies things to use only one stepper motor to drive both sun and moon, albeit may require manual
adjustment of the offset.

So now we're imagining a motor fixed to the earth, potentially aligned with earth's axis, to handle earth's daily rotation, and a
motor fixed to that axis, but offset by 23.4 degrees (?) which only turns once per year, and handles the precession of the ecliptic (?).

Or would they rather be the other way around? The ecliptic needs to go around once a day as well. I need to think harder on this.
