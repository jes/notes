# 2025-11-12

## Tractor

I've tidied up the garage, it doesn't take very long and instantly makes the space more inviting
for working on things. I should keep it tidier more often.

I have had a go at "kerf bending", it hasn't gone well:

https://img.incoherency.co.uk/6316

I used the calculator and left a 3mm thickness (as per the default) and I could tell it wouldn't bend without
snapping. So then I cut all the grooves deeper but it still felt like it was going to snap, but I forced it,
and then it snapped. Bugger.

I think the grain direction of the outer ply needs to be the other way, which I didn't think of until
after I snapped it, but at any rate I didn't have enough length in the other direction so it had to be this
way anyway, or else having the top/front surface of the bonnet made out of 2 pieces.

Since the wood had snapped anyway I continued bending it to see what would happen.

https://img.incoherency.co.uk/6317

Actually doesn't look too awful? With a bit of sanding I might be able to salvage this?

I can live with this. I glued up the inside to make it a bit stronger:

https://img.incoherency.co.uk/6318

Once that glue has set I am going to attach battens to the insides of this bent piece, and then
attach the sides to the battens, and then it should be strong enough to hold its shape and I can
have a go at sanding out the lumps.

In the worst case I buy more plywood and try again.

## Orrery

Let's say we're using ordinary stepper motors for the sun/moon axes, with absolute encoders
to work out the position. That will give 1.8&deg; steps, which at a 200mm radius is about 6mm steps.
That may be a bit too much of a jump? Or maybe we're OK with it, it make the movement a discrete event
to pay attention to? Or alternatively we gear them down. If the absolute encoder goes on the shaft
after the gearing, instead of on the motor, then that still works.

ChatGPT says you can stop the stepper motors from drawing current by using the "SLEEP" pin on the
stepper driver.

And then the next question is what kind of motor am I going to use to do the +/- 24&deg; axis for
the earth rotation axis inclination, or whatever you'd call it. An RC servo motor would in principle be fine,
but I don't know how much power they draw or whether I'd need to leave it powered up permanently or whether
there is an easy way to power it off or if it would be noisy and jittery.

Also I don't know if the idea about tying the sun and moon together with a retracting lanyard, to make the
lit side of the moon face the sun, will actually work.

I don't think there is anywhere you can put it that won't catch on some other part of the frame or mechanism
if the sun does an entire lap while the moon stays still, for example.

Oh! ChatGPT points out you can use microstepping to fix the chunkiness of the stepper motor steps. Although
I think that may not allow you to power off the motor in between steps.

Maybe I just tune the driver current way down and leave it powered on all the time. It doesn't even matter if
the current is so low that it sometimes misses steps, because we have the encoder.

I guess I can experiment with RC servos now and see if they're going to be noisy.

So I want an Arduino program that just slowly ticks around from -24&deg; to +24&deg;, and wire it up to different
servos and see which one is quietest.

https://img.incoherency.co.uk/6319

Contenders are: SG90 micro servo, MG 996R normal-size (?) servo, and KM1203MD micro servo. I recall the latter
was quite expensive, I was planning to use it for an antweight combat robot.

Now I get to try out the new Arduino IDE. Although I may end up driving this stuff directly from a Raspberry Pi
instead, unsure.

Would I want to get time-of-day from wifi or GPS? Or something else? GPS probably unnecessary hassle, and won't
work very well indoors anyway. So probably wifi. So I will either want a microcontroller with wifi on board,
like an ESP32, or else a Raspberry Pi. I will want an easy way to set the wifi credentials either way, maybe
I could have the ESP32 listen on USB serial and prompt you for them?

I'm basically using the "Sweep" example sketch for Arduino.

The SG90 makes a quiet buzzing noise every time it moves but I'd say
perfectly acceptable. Although it seems to have quite a hysteresis.

The MG996R constantly buzzes, very poor. I'm surprised it is worse than the SG90.

The KM1203MD also constantly buzzes.

OK, I think I know what the problem is, I think they are browning-out the power supply. The red power light
on the Arduino keeps dimming.

I've switched from the "5V" pin to the "VIN" pin. The KM1203MD is still very buzzy. It seems like every time
I ask it to move by 1&deg; it massively overshoots and then oscillates as it overshoots back the other way.

The MG996R is also still buzzy.

SG90 is the winner, who would have guessed!

So then the question is: is the SG90 accurate enough to satisfy me, or do I want to use a stepper for this
axis as well? I think the hysteresis is about 4&deg;. In the sense that when the direction reverses, nothing happens
and then all of a sudden it jumps 4&deg; at once. Possibly I could gear down the servo output as well? If it
has a range of 180&deg; then a 4:1 ratio would be slightly too much, but for example 35:10 teeth should be fine,
and then the hysteresis would be just over 1&deg;, and most steps would be about 0.3&deg;. Maybe that's fine, and
it saves faffing about with another stepper motor.

So I think we're saying:

 * ESP32
 * connect to wifi to get the time
 * prompt for wifi credentials over USB serial, store in EEPROM
 * stepper motor each for sun and moon, geared down, with absolute encoders, and drivers tuned for low current
 * since the shafts are coaxial, one of the absolute encoders may need to be geared off the shaft
 * SG90 micro servo for the +/-24&deg; tilting plate

And then the rest is just mechanical design?

The frame support needs to loop around the path that the sun/moon will take, and support the servo that drives
the tilting plate, and the wires, and a model of the earth/house to sit at the top.

The software needs to connect to wifi, periodically look at the current time, calculate the current angles,
and update all of the positions.

ChatGPT suggested adding a preload to the tilting plate (e.g. spring) so that it is always driven to one side
of the backlash, to reduce the jump on direction reversal. Maybe unnecessary.

The moon and sun want to be rotating on a path that is centered on the tilting-plate axis. And the house
wants to be small and as close as possible to the tilting-plate axis, so that the size/position of it doesn't
throw off the relative directions to the sun/moon.

And what about making the moon face towards the sun?
